---
title: " Zsh 🚀 تحسين اداء الشل "
author: "d7man"
pubDate: 2025-07-25
slug: "zsh-startup"
cover: "../assets/zsh.jpg"
desc: "تحسين أداء الشل مو رفاهية، خصوصًا إذا كنت مطور وتعتمد عليه يوميًا."
tags: ["zsh", "zsh-startup", "coding"]
social:
  Twitter: "https://twitter.com/x0d7x"
  Github: "https://github.com/x0d7x"
  Youtube: "https://www.youtube.com/@x0d7x"
  Tiktok: "https://www.tiktok.com/@x0d7x"
---

# تحسين أداء أداة الشل Zsh 🚀

مؤخرًا واجهت مشكلة مزعجة جدًا: الـZsh صار بطيء بشكل غير طبيعي!  
كل ما أفتح التيرمنال، أحس كأني جالس أنتظر قطار! 🚅  
وبما إن أغلب شغلي يعتمد على التيرمنال، ضروري يكون الشل سريع في التحميل عشان أقدر أكتب أوامري فورًا.

---

## ما أسباب بطء الشل؟

في أكثر من سبب ممكن يخلي الشل يتأخر في التشغيل، ومنها:

- استخدام أدوات مثل `nvm` (لإدارة إصدارات Node.js)
- وجود إضافات تشتغل تلقائيًا مع كل جلسة
- تحميل أوامر أو متغيرات غير ضرورية في بداية كل تشغيل

في هذا المقال، راح نركز على أحد الأسباب الشائعة: **`nvm`**.

---

## كيف نعرف سبب البطء؟

أول خطوة هي تحليل وقت تحميل الشل باستخدام أداة مدمجة اسمها `zprof`.

افتح ملف الإعدادات الخاص بـZsh:

```bash
~/.zshrc
```

ونضيف اول سطر في الملف كالتالي

![Image](https://pbs.twimg.com/media/GcOF6ZnWgAAWnx8?format=jpg&name=medium)

```bash
zmodload zsh/zprof
```

بعدها ننتقل لاخر سطر في الملف ونضيف كلمة zprof ونحفظ الملف
![Image](https://pbs.twimg.com/media/GcOGrdFWsAEOerV?format=jpg&name=4096x4096)

```bash
zprof
```

بعدها ننتقل الى التيرمنال ونحط الامر التالي عشان نعرف ايش هيا الاضافات اللي تخلي الشل ياخذ هذا الوقت كله

![Image](https://pbs.twimg.com/media/GcOGvVAXUAAjrjb?format=jpg&name=medium)

```bash
time zsh --interactive -c exit
```

## طيب، وش الحل؟ 🔧

بما إن `nvm` يسبب تأخير واضح، قررت أستبدله بأداة أسرع اسمها **`fnm`** — مكتوبة بلغة Rust وتؤدي نفس الوظيفة.

### تثبيت `fnm`

عن طريق brew

```bash
brew install fnm
```

او عن طريق Github:

[https://github.com/Schniz/fnm](https://t.co/via4qTVN6p)

اللحين نجي بعد ماحملنا الاداة ونحذف اللي اضفناه لملف الشل ونحط الكومناد عشان نشوف كم راح ياخذ وقت عشان يشتغل الشل معانا وهل فرق فعلا او لا ؟
سويت الامر اللي في البداية عشان نشوف سرعة تشغل الشل

```bash
time zsh --interactive -c exit
```

### النتيجة

![Image](https://pbs.twimg.com/media/GcOKLE7WwAAp9DU?format=jpg&name=large)

طبعا الفرق واضح قبل وبعد صار اسرع تقريبا ب 120%
بكذا صاراسرع لانه خاصة لي وللي يستخدم التيرمنال بشكل دوري يهمه انه اول مايفتح التيرمنال يكتب الاوامر او يستخدم الشل بسرعة

## هل في مجال لتحسين السرعة أكثر؟ 🧠

أكيد!

## كيف؟

- راجع الإضافات الموجودة وتأكد إنها ضرورية فعلًا.

- استخدم مدير إضافات ذكي مثل **`zinit`** يدعم تحميل الإضافات عند الطلب (Lazy Loading).

- تجنّب تحميل ملفات البيئة (`env`) عند التشغيل، وخلها تتحمّل فقط عند الحاجة.

  🎯 **خلاصة:**  
  تحسين أداء الشل مو رفاهية، خصوصًا إذا كنت مطور وتعتمد عليه يوميًا.  
  بخطوات بسيطة، تقدر تسرّع تجربتك وتحافظ على إنتاجيتك.
